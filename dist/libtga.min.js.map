{"version":3,"file":"libtga.min.js","sources":["libtga.js"],"names":["global","factory","define","amd","exports","module","mod","libtga","this","_classCallCheck","instance","Constructor","TypeError","HEADER_SIZE","IMAGE_TYPE_NONE","IMAGE_TYPE_COLORMAPPED","IMAGE_TYPE_TRUECOLOR","IMAGE_TYPE_GREYSCALE","IMAGE_RUNLENGTH_ENCODED","IMAGE_DESCRIPTOR_ATTRIBUTE_MASK","IMAGE_DESCRIPTOR_ORIGIN_MASK","IMAGE_DESCRIPTOR_INTERLEAVE_MASK","IMAGE_ORIGIN_VERTICAL_MASK","IMAGE_ORIGIN_HORIZONTAL_MASK","IMAGE_ORIGIN_TOP","IMAGE_ORIGIN_RIGHT","TGA","arraybuf","dataview","DataView","header","readHeader","width","imageSpec","height","compressed","imageType","imageId","readImageId","colorMap","readColorMap","imageData","readImage","idLength","getUint8","mapType","colorMapSpec","readColorMapSpec","readImageSpec","offset","bits","firstEntry","getUint16","length","entrySizeBits","entrySizeBytes","Math","floor","descriptor","xOrigin","yOrigin","pixelDepth","attributeBits","origin","interleave","Uint8Array","buffer","Uint8ClampedArray","read","readPixel8","readPixel15","readPixel16","readPixel24","readPixel32","i","input","output","j","byte","chunk","readMappedPixel8","map","mapOffset","index","readMappedPixel15","readMappedPixel16","readMappedPixel24","readMappedPixel32","readRLEImage","readColormappedImage","tga","pixels","vScanDir","hScanDir","vStart","vEnd","hStart","hEnd","col","row","readTruecolorImage","readFile","loadFile","url","callback","xhr","XMLHttpRequest","open","responseType","onload","response","onerror","e","send","VERSION"],"mappings":"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"}