{"version":3,"file":"libtga.min.js","sources":["libtga.js"],"names":["root","XMLHttpRequest","HEADER_SIZE","IMAGE_TYPE_NONE","IMAGE_TYPE_COLORMAPPED","IMAGE_TYPE_TRUECOLOR","IMAGE_TYPE_GREYSCALE","IMAGE_RUNLENGTH_ENCODED","IMAGE_DESCRIPTOR_ATTRIBUTE_MASK","IMAGE_DESCRIPTOR_ORIGIN_MASK","IMAGE_DESCRIPTOR_INTERLEAVE_MASK","IMAGE_ORIGIN_VERTICAL_MASK","IMAGE_ORIGIN_HORIZONTAL_MASK","IMAGE_ORIGIN_TOP","IMAGE_ORIGIN_RIGHT","TGA","arraybuf","this","dataview","DataView","header","readHeader","width","imageSpec","height","compressed","imageType","imageId","readImageId","colorMap","readColorMap","imageData","readImage","idLength","getUint8","mapType","colorMapSpec","readColorMapSpec","readImageSpec","offset","bits","firstEntry","getUint16","length","entrySizeBits","entrySizeBytes","Math","floor","descriptor","xOrigin","yOrigin","pixelDepth","attributeBits","origin","interleave","Uint8Array","buffer","Uint8ClampedArray","read","readPixel8","readPixel15","readPixel16","readPixel24","readPixel32","i","input","output","j","byte","chunk","readMappedPixel8","map","mapOffset","index","readMappedPixel15","readMappedPixel16","readMappedPixel24","readMappedPixel32","readRLEImage","tga","console","log","readColormappedImage","pixels","vScanDir","hScanDir","vStart","vEnd","hStart","hEnd","col","row","readTruecolorImage","libtga","readFile","loadFile","url","callback","xhr","open","responseType","onload","response","onerror","e","send","VERSION"],"mappings":"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"}