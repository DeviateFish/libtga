var libtga=function(e){var r={};function t(a){if(r[a])return r[a].exports;var i=r[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=function e(r){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataview=new DataView(r),this.header=e.readHeader(this.dataview),this.width=this.header.imageSpec.width,this.height=this.header.imageSpec.height,this.compressed=!!(8&this.header.imageType),this.imageId=e.readImageId(this.dataview,this.header),this.colorMap=e.readColorMap(this.dataview,this.header),this.imageData=e.readImage(this)};a.HEADER_SIZE=18,a.IMAGE_TYPE_NONE=0,a.IMAGE_TYPE_COLORMAPPED=1,a.IMAGE_TYPE_TRUECOLOR=2,a.IMAGE_TYPE_GREYSCALE=3,a.IMAGE_RUNLENGTH_ENCODED=8,a.readHeader=function(e){return{idLength:e.getUint8(0,!0),mapType:e.getUint8(1,!0),imageType:e.getUint8(2,!0),colorMapSpec:a.readColorMapSpec(e,3),imageSpec:a.readImageSpec(e,8)}},a.readColorMapSpec=function(e,r){var t=e.getUint8(r+4,!0);return{firstEntry:e.getUint16(r,!0),length:e.getUint16(r+2,!0),entrySizeBits:t,entrySizeBytes:Math.floor((t+7)/8)}},a.readImageSpec=function(e,r){var t=e.getUint8(r+9);return{xOrigin:e.getUint16(r,!0),yOrigin:e.getUint16(r+2,!0),width:e.getUint16(r+4,!0),height:e.getUint16(r+6,!0),pixelDepth:e.getUint8(r+8),descriptor:t,attributeBits:15&t,origin:(48&t)>>4,interleave:(192&t)>>6}},a.readImageId=function(e,r){return new Uint8Array(e.buffer,18,r.idLength)},a.readColorMap=function(e,r){if(r.colorMapSpec.length<=0)return null;var t=new Uint8ClampedArray(4*r.colorMapSpec.length),i=null,n=18+r.idLength;switch(r.colorMapSpec.entrySizeBits){case 8:i=a.readPixel8;break;case 16:i=a.readPixel15;break;case 15:i=a.readPixel16;break;case 24:i=a.readPixel24;break;case 32:i=a.readPixel32;break;default:throw"Unsupported pixel depth"}for(var o=0;o<r.colorMapSpec.length;o++)i(e,n,o,t,o);return t},a.readPixel8=function(e,r,t,a,i){var n=e.getUint8(r+t);a[4*i+2]=n,a[4*i+1]=n,a[4*i+0]=n,a[4*i+3]=255},a.readPixel15=function(e,r,t,a,i){var n=e.getUint16(r+2*t,!0);a[4*i+2]=(31&n)<<3,a[4*i+1]=(n>>5&31)<<3,a[4*i+0]=(n>>10&31)<<3,a[4*i+3]=255},a.readPixel16=function(e,r,t,a,i){var n=e.getUint16(r+2*t,!0);a[4*i+2]=(31&n)<<3,a[4*i+1]=(n>>5&31)<<3,a[4*i+0]=(n>>10&31)<<3,a[4*i+3]=128==(128&n)?255:0},a.readPixel24=function(e,r,t,a,i){a[4*i+2]=e.getUint8(r+3*t+0),a[4*i+1]=e.getUint8(r+3*t+1),a[4*i+0]=e.getUint8(r+3*t+2),a[4*i+3]=255},a.readPixel32=function(e,r,t,a,i){a[4*i+2]=e.getUint8(r+4*t+0),a[4*i+1]=e.getUint8(r+4*t+1),a[4*i+0]=e.getUint8(r+4*t+2),a[4*i+3]=255},a.readMappedPixel8=function(e,r,t,a,i,n,o){var p=e.getUint8(a+i)+t;n[4*o+0]=r[4*p+0],n[4*o+1]=r[4*p+1],n[4*o+2]=r[4*p+2],n[4*o+3]=r[4*p+3]},a.readMappedPixel15=function(e,r,t,a,i,n,o){var p=e.getUint16(a+2*i,!0)+t;n[4*o+0]=r[4*p+0],n[4*o+1]=r[4*p+1],n[4*o+2]=r[4*p+2],n[4*o+3]=r[4*p+3]},a.readMappedPixel16=function(e,r,t,a,i,n,o){var p=e.getUint16(a+2*i,!0)+t;n[4*o+0]=r[4*p+0],n[4*o+1]=r[4*p+1],n[4*o+2]=r[4*p+2],n[4*o+3]=r[4*p+3]},a.readMappedPixel24=function(e,r,t,a,i,n,o){var p=e.getUint16(a+2*i,!0)+t;n[4*o+0]=r[4*p+0],n[4*o+1]=r[4*p+1],n[4*o+2]=r[4*p+2],n[4*o+3]=r[4*p+3]},a.readMappedPixel32=function(e,r,t,a,i,n,o){var p=e.getUint16(a+2*i,!0)+t;n[4*o+0]=r[4*p+0],n[4*o+1]=r[4*p+1],n[4*o+2]=r[4*p+2],n[4*o+3]=r[4*p+3]},a.readRLEImage=function(){throw"NYI"},a.readColormappedImage=function(e){var r,t,i,n,o=e.dataview,p=e.header,d=e.colorMap,c=p.imageSpec.width,l=p.imageSpec.height,u=new Uint8ClampedArray(c*l*4),g=p.imageSpec.pixelDepth,s=18+p.idLength+p.colorMapSpec.length*p.colorMapSpec.entrySizeBytes,h=p.colorMapSpec.firstEntry,f=null,m=2==(2&p.imageSpec.origin)?1:-1,x=1==(1&p.imageSpec.origin)?-1:1;if(!d)throw"Image is described as color-mapped, but has no map";switch(g){case 8:f=a.readMappedPixel8;break;case 16:f=a.readMappedPixel15;break;case 15:f=a.readMappedPixel16;break;case 24:f=a.readMappedPixel24;break;case 32:f=a.readMappedPixel32;break;default:throw"Unsupported pixel depth"}m>0?(r=0,t=l):(r=l-1,t=-1),x>0?(i=0,n=c):(i=c-1,n=-1);for(var M,U=0,P=r;P!=t;P+=m){M=0;for(var S=i;S!=n;S+=x)f(o,d,h,s,P*c+S,u,U*c+M++);U++}return u},a.readTruecolorImage=function(e){var r,t,i,n,o=e.header,p=e.dataview,d=o.imageSpec.width,c=o.imageSpec.height,l=new Uint8ClampedArray(d*c*4),u=o.imageSpec.pixelDepth,g=18+o.idLength+o.colorMapSpec.length*o.colorMapSpec.entrySizeBytes,s=null,h=2==(2&o.imageSpec.origin)?1:-1,f=1==(1&o.imageSpec.origin)?-1:1;switch(u){case 8:s=a.readPixel8;break;case 16:s=a.readPixel15;break;case 15:s=a.readPixel16;break;case 24:s=a.readPixel24;break;case 32:s=a.readPixel32;break;default:throw"Unsupported pixel depth"}h>0?(r=0,t=c):(r=c-1,t=-1),f>0?(i=0,n=d):(i=d-1,n=-1);for(var m,x=0,M=r;M!=t;M+=h){m=0;for(var U=i;U!=n;U+=f)s(p,g,M*d+U,l,x*d+m++);x++}return l},a.readImage=function(e){if(e.header.compressed)return a.readRLEImage(e);if(0===e.header.mapType)return a.readTruecolorImage(e);if(1===e.header.mapType)return a.readColormappedImage(e);throw"Unsupported map type"};var i={readFile:function(e){return new a(e)},loadFile:function(e,r){var t=new XMLHttpRequest;t.open("GET",e),t.responseType="arraybuffer",t.onload=function(){r(null,new a(this.response))},t.onerror=function(e){r(e,null)},t.send()},TGA:a,VERSION:"0.3.1"};r.default=i}]);